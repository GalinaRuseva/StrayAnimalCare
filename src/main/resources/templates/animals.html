<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/commons::head"></head>
<body style="background-image: url('/img/background-1.jpg'); background-size: cover; background-repeat: no-repeat;">
<header th:replace="fragments/commons::nav"></header>
<main>
  <div class="welcome mt-1 mb-4" style="width: 90%; margin: 0 auto;">
    <h2 class="mySticky bg-gray text-dark user">All Animals</h2>

    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Status</th>
        <th>Gender</th>
        <th>Age</th>
        <th>Added By</th>
        <th>Location</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="animal : ${allSystemAnimals}">
        <td>
          <a th:href="@{'/animals/' + ${animal.id} + '/profile'}" th:text="${#strings.capitalize(#strings.toLowerCase(animal.name))}"></a>
        </td>
        <td th:text="${#strings.capitalize(#strings.toLowerCase(animal.type.name()))}"></td>
        <td th:text="${#strings.capitalize(#strings.toLowerCase(animal.status.name()))}"></td>
        <td th:text="${#strings.capitalize(#strings.toLowerCase(animal.gender.name()))}"></td>
        <td th:text="${animal.getAge()}"></td>
        <td>
          <a th:href="@{'/users/' + ${user.id} + '/profile'}" th:text="${#strings.capitalize(#strings.toLowerCase(animal.addedBy.username))}"></a>
        </td>
<!--        <td th:text="${#strings.capitalize(#strings.toLowerCase(animal.addedBy.username))}"></td>-->
        <td th:text="${animal.location.country + ',' + animal.location.city + ',' + animal.location.neighborhood}"></td>
        <td>
          <a th:href="@{'/animals/' + ${animal.id} + '/profile'}" class="btn btn-sm btn-primary">Profile</a>
          <form th:action="@{'/animals/followed/' + ${animal.id}}" th:method="POST" style="display: inline-block;">
            <button type="submit" class="btn btn-sm btn-success">Follow</button>
          </form>
          <form th:action="@{'/animals/' + ${animal.id}}" th:method="DELETE" style="display: inline-block;">
            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</main>
<footer th:replace="fragments/commons::footer"></footer>
</body>
</html>